<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Missing</title>
    </head>
    
    <body>
  
        <h2>Missing (See console)</h2>
            <p>A zero-indexed array A consisting of N different integers is
                given. The array contains integers in the range [1..(N + 1)],
                which means that exactly one element is missing.</p>

            <p>Your goal is to find that missing element.</p>

            <p>Write a function:</p>

            <p>function solution(A);</p>

            <p>that, given a zero-indexed array A, returns the value of the missing element.</p>

            <p>For example, given array A such that:</p>

            <p>A[0] = 2
            A[1] = 3
            A[2] = 1
            A[3] = 5</p>
            
            <p>the function should return 4, as it is the missing element.</p>

            <p>Assume that:</p>

            <p>N is an integer within the range [0..100,000];
            the elements of A are all distinct;
            each element of array A is an integer within the range [1..(N + 1)].
            Complexity:</p>

            <p>expected worst-case time complexity is O(N);<br />
            expected worst-case space complexity is O(1), beyond input storage (not counting the storage required for input arguments).
            Elements of input arrays can be modified.</p>

         <script>
            
            ////////////////////////////////////////////////////////////////////
            // My solution
            // NOTE: IMPORTANT to read the question.  I got this wrong because I
            // failed to realise that the missing number may be missing from the
            // end of the array.  Also didn't realise that an empty [] array
            // should return '1' (same as last item of array being missing.)
            ////////////////////////////////////////////////////////////////////
            function solution(A) {
                var result = -1;

                // Sort the array (need to supply a sort function, otherwise 
                // array would convert all elements to strings before
                // comparison.  This is NOT the same as number comparison)
                A.sort(function(a, b) {
                    return a - b;
                });
                
                // Go through each item in the array and check that its value is
                // equal to the index (+1 to account for 0 based array)
                for(var index = 0; index < A.length; index++) {
                    
                    // If the value is not the expected one, we found the
                    // missing item, so record it and exit the loop
                    if(A[index] != (index + 1)) {
                        result = index + 1;

                        break; 
                    }
                }
                
                // If we have not found a missing item, we assume it's the last
                // one that's missing, so we return the next in sequence.
                if(result === -1) {
                    result = A.length + 1;
                }
                
                return result;
            }


            ////////////////////////////////////////////////////////////////////
            // Tests
            ////////////////////////////////////////////////////////////////////
            console.log("[3,2,1,5] should return '4'. Returns:  " + solution([3,2,1,5]));
            console.log("[] should return '1'. Returns:  " + solution([]));
            console.log("[1] should return '2'. Returns:  " + solution([1]));
            console.log("[1,2,3,4,5,6,7,8,9] should return '10'. Returns:  " + solution([1,2,3,4,5,6,7,8,9]));

        </script>
  
    </body>
</html>